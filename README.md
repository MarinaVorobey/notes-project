## Дипломный проект Воробей М. на курс node.js

Здесь будут описаны детали проекта и ответы на вопросы,
которые могут возникнуть во время проверки данной работы.

### Основная информация

Проект работает по адресу: ...
Тип базы данных: PG SQL
Тип аутентификации: Cookies

Структура файла для настройки переменных окружения:

- DB_HOST - хост
- DB_USER - имя пользователя для базы данных
- DB_PASSWORD - пароль к базе данных
- DB_NAME - имя базы данных
- PORT - порт, на котором запустится сервер(необязательно)

### Скрипты

Чтобы запустить проект в режиме разработки, выполните команду:
**npm run dev**
Чтобы не создавать вручную 20+ заметок для просмотра мультистраничного
функционала, выполните скрипт:
**npm run add:notes**
Он создаст 20 заметок для пользователя с id 1, то есть для первого пользователя, под которым вы зарегистрируетесь.

### Выполненные дополнительные задания:

- Заметка по умолчанию
- Скачивание заметки в формате PDF
- Поиск по заметкам
- Дополнительное выделение результатов поиска

### Структура проекта

Код файла index.js разделен на разделы, согласно назначению блоков кода:

1. Authentication
2. Working with notes
3. Working with archive
4. PDF
   Каждая секция начинается с закомментированной строчки, наподобие:
   ```javascript
   // Section "Working with archive"
   ```
   и кончается строчкой, наподобие:
   ```javascript
   // End of section "Working with archive"
   ```

Функции-помошники в проекте (за исключением PDF) разбиты на модули,
соответствующие секциям:

1. Auth for "Authentication"
2. notesWork for "Working with notes"
3. archiveWork for "Working with archive"

### Ответы на возможные вопросы

_Почему файл defaultNote, содержащий html, хранится в формате txt?_
Чтобы избежать детекции ошибок со стороны линтера.

_Зачем нужны функции textToCodePoints и codePointsToText?_
При поиске заметки по заголовку скорее всего будет использоваться
кириллица. Так как получение заметки является get-запросом, а в нем не
включается тело, передавать параметр поиска нужно в заголовке запроса.
В заголовках http-запроса не принимаются символы, не входящие в ASCII,
поэтому функции служат в качестве обхода этого лимита.
textToCodePoints кодирует символы в их номера в Уникоде, затем на сервере
codePointsToText декодирует их обратно в текст.
